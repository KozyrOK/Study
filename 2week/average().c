unsigned int average(unsigned int a, unsigned int b) {
    return a / 2 + b / 2 + ( a % 2 + b % 2 ) / 2;
}